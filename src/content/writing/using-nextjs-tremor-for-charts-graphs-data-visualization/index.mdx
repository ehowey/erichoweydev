---
title: Using Next.js and Tremor for charts, graphs, and data visualization
author: Eric Howey
authorLink: https://twitter.com/erchwy
categories: [Next.js]
date: 2023-11-01
published: false
description: Test post
excerpt: Test post
demo: https://nextjs-tremor-demo.netlify.app/
repo: https://github.com/ehowey/nextjs-tremor-demo
---

import BlockquoteInfo from '~/components/BlockquoteInfo.astro'
import BarChart from '~/components/nextjs-tremor-post/BarChart.tsx'
import DonutChartBasic from '~/components/nextjs-tremor-post/DonutChartBasic.tsx'
import DonutChartValueFormatter from '~/components/nextjs-tremor-post/DonutChartValueFormatter.tsx'
import DonutChartCustomTooltip from '~/components/nextjs-tremor-post/DonutChartCustomTooltip.tsx'
import AreaChartBasic from '~/components/nextjs-tremor-post/AreaChartBasic.tsx'

Charts, graphs, and data visualizations are an important tool when presenting data or trying to explain a complex topic more clearly. They are widely used in websites, apps, and other digital media. Just think back to the last major election and I guarantee it was brimming with charts and graphs!

Creating these charts is not always easy with lots of potential gotcha moments. I have tried a lot of charting and data visualization libraries and found that [Tremor](https://www.tremor.so/) strikes the right balance between configurability, good design, and happy defaults.

With Tremor it is easier to land in the pit of success.

That isn't to say it is perfect, by being opinionated about design Tremor is less configurable than some other charting libraries. Tremor also uses Tailwind for styling which is a bonus for some and a dealbreaker for others.

## Getting setup

If you don't already have a Next.js project with Tailwind installed and configured then you can follow their [getting started guide](https://nextjs.org/docs/getting-started/installation), which will preconfigure Next.js and Tailwind for you.

If you have a greenfield project you can use `npx @tremor/cli@latest init` to quickly install Tremor. If you have an existing project you should follow their [installation instructions](https://www.tremor.so/docs/getting-started/installation) so you don't overwrite your existing `tailwind.config.ts` file.

## Our first chart

My son is in grade 3 recently had to make a bar chart of his classmates favourite kinds of weather. So let's start there!

Data for Tremor charts has index values which are the values used as labels on the axis. It also has what are called categories which are the values actually plotted on the graph. The data format can vary slightly based on what chart you are using so be sure to check the docs.

In this example our index values will be the different types of weather and our single category will be the number of classmates.

```tsx title="BarChart.tsx"
import { BarChart, Card } from '@tremor/react'

const data = [
  {
    Weather: 'Sunny',
    Classmates: 10,
  },
  {
    Weather: 'Snowy',
    Classmates: 5,
  },
  {
    Weather: 'Cloudy',
    Classmates: 4,
  },
  {
    Weather: 'Rainy',
    Classmates: 2,
  },
  {
    Weather: 'Foggy',
    Classmates: 1,
  },
]

export default function BarChartDemo() {
  return (
    <div className="my-10">
      <Card>
        <BarChart data={data} index="Weather" categories={['Classmates']} />
      </Card>
    </div>
  )
}
```

And here is the result:

<BarChart client:visible />

## Using chart variations

One thing to know about Tremor is that it has _chart variations_, so there is no "pie chart" but rather it is a variation of the `DonutChart` component. Another common chart is a stream chart, this is a variation on the `AreaChart` component.

Here is our same favourite weather chart, from above, but this time rendered as a pie chart. Notice that instead of `categories` (with an array) it only accepts a single `category` prop.

```tsx file="DonutChart.tsx"
import { DonutChart, Card } from '@tremor/react'

const data = [
  /* Same data as above... */
]

export default function DonutChartDemo() {
  return (
    <div className="my-10">
      <Card>
        <DonutChart
          data={data}
          index="Weather"
          category="Classmates"
          variant="pie"
        />
      </Card>
    </div>
  )
}
```

And our magnificent pie chart!

<DonutChartBasic client:visible />

## Using the valueFormatter prop

Our pie chart is looking pretty tasty but it would be a lot better if we could show percentages instead of just the raw number of classmates. Most Tremor charts accept a `valueFormatter` prop to customize how the values are displayed. This can let you do things like round numbers, add currency symbols, or as we are going to do convert the numbers to percentages.

Here is what that looks like.

```tsx file="DonutChart.tsx"
import { DonutChart, Card } from '@tremor/react'

const data = [
  /* Same data as above... */
]

const valueFormatter = (number: number) => {
  // Use reduce method to calculate total number of classmates
  const totalClassmates = data.reduce(
    (accumulator, currentValue) => accumulator + currentValue.Classmates,
    0,
  )
  // Calculate the percentage and round it to a whole number
  const percentage = Math.round((number / totalClassmates) * 100)
  // Return a string
  return `${percentage}%`
}

export default function DonutChartDemo() {
  return (
    <div className="my-10">
      <Card>
        <DonutChart
          data={data}
          valueFormatter={valueFormatter}
          index="Weather"
          category="Classmates"
          variant="pie"
        />
      </Card>
    </div>
  )
}
```

And here is our chart with some much nicer percentage values.

<DonutChartValueFormatter client:visible />

## Adding a custom tooltip

Tremor has recently added the ability to customize the tooltip that appears on hover. This takes things a step beyond the value formatter allowing you to tweak not just the appearance of the numbers displayed but the appearance of the entire tooltip itself.

### The default tooltip

Tremor includes a great default tooltip and odds are you will want to simply extend the default tooltip so that your styles remain consistent across the charts.

<BlockquoteInfo>
  The default tooltips differ a bit from chart to chart so your mileage may
  vary. Using a custom tooltip also supercedes the `valueFormatter` prop.
</BlockquoteInfo>

```tsx
const defaultTooltip = ({ payload, active, label }) => {
  if (!active || !payload) return null
  return (
    <div className="rounded-tremor-default text-tremor-default bg-tremor-background shadow-tremor-dropdown border-tremor-border dark:bg-dark-tremor-background dark:shadow-dark-tremor-dropdown dark:border-dark-tremor-border border">
      <div className="border-tremor-border dark:border-dark-tremor-border border-b px-4 py-2">
        <p className="text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis font-medium">
          {label}
        </p>
      </div>
      <div className="space-y-1 px-4 py-2">
        {payload.map((category, idx) => (
          <div key={idx} class="flex items-center justify-between space-x-8">
            <div className="flex items-center space-x-2">
              <span
                className={`rounded-tremor-full border-tremor-background shadow-tremor-card dark:border-dark-tremor-background dark:shadow-dark-tremor-card h-3 w-3 shrink-0 border-2 bg-${category.color}-500`}
              ></span>
              <p className="text-tremor-content dark:text-dark-tremor-content whitespace-nowrap text-right">
                {category.dataKey}
              </p>
            </div>
            <p className="text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis whitespace-nowrap text-right font-medium tabular-nums">
              {category.value}
            </p>
          </div>
        ))}
      </div>
    </div>
  )
}
```

Being able to customize the tooltip means we can do all sorts of nifty things like add a bit more visual interest, calculate composite scores, add explainers and more.

Let's add some weather icons to our pie chart!

<DonutChartCustomTooltip client:visible />
