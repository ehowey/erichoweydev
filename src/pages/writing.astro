---
import PageLayout from '../layouts/PageLayout.astro'
import PageHeader from '../components/PageHeader.astro'
import WritingCard from '../components/WritingCard.astro'
import { formatDate } from '../lib/utils'

const posts = await Astro.glob('./writing/**/*.mdx').then((result) => {
  const sortedAndFiltered = result
    .filter((post) => post.frontmatter.published === true)
    .sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date))
  return sortedAndFiltered
})
import { clsx } from 'clsx'
---

<PageLayout
  title="Writing"
  description="An archive of my musing, ramblings and articles about web development, React, Gatsby, Next.js and more. Everything mini-notes to full length guides. Dig in!"
>
  <PageHeader>Writing</PageHeader>
  <section class="mt-16 max-w-2xl px-4">
    <div class="flex flex-col gap-16">
      {posts.map((post) => <WritingCard post={post} />)}
    </div>
  </section>
</PageLayout>
